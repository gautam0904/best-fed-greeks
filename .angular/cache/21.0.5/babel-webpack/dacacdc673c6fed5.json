{"ast":null,"code":"import _asyncToGenerator from \"/Users/malaviyagautam/Code/JS/MEAN/Ionic/FULL Source Code & Database/ionic-project-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Router } from '@angular/router';\nimport { HttpService } from '../../services/common/http.service';\nimport { MessageService } from '../../services/common/message.service';\nimport { BFGUserService } from '../../services/bfg-user.service';\nimport { BFGMealPlanService } from '../../services/bfg-meal-plan.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/bfg-user.service\";\nimport * as i2 from \"../../services/bfg-meal-plan.service\";\nimport * as i3 from \"../../services/common/http.service\";\nimport * as i4 from \"../../services/common/message.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@ionic/angular\";\nexport let ChefRatingPage = /*#__PURE__*/(() => {\n  class ChefRatingPage {\n    bfgUser;\n    mealPlans;\n    http;\n    msg;\n    router;\n    data = {\n      feedback: '',\n      rating: ''\n    };\n    constructor(bfgUser, mealPlans, http, msg, router) {\n      this.bfgUser = bfgUser;\n      this.mealPlans = mealPlans;\n      this.http = http;\n      this.msg = msg;\n      this.router = router;\n    }\n    ionViewDidEnter() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.data.rating = '';\n        _this.data.feedback = '';\n      })();\n    }\n    save() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this2.data.rating) {\n          _this2.msg.showToast('Error', 'Please select a rating');\n          return;\n        }\n        if (!_this2.data.feedback) {\n          _this2.msg.showToast('Error', 'Please provide feedback');\n          return;\n        }\n        yield _this2.msg.showLoader('Saving chef rating, please wait...');\n        _this2.http.post('bfg/ratings/save-chef-rating', {\n          feedback: _this2.data.feedback,\n          rating: _this2.data.rating\n        }).subscribe(/*#__PURE__*/function () {\n          var _ref = _asyncToGenerator(function* (response) {\n            yield _this2.msg.hideLoader();\n            if (response.error) {\n              yield _this2.msg.showToast('Error', response.message ? response.message : 'There was an error saving your chef rating. Please contact technical support if this persists.');\n              return;\n            }\n            yield _this2.msg.showToast('Success', 'Thanks for rating your chef! We value your feedback.');\n            _this2.router.navigateByUrl('/ratings');\n          });\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      })();\n    }\n    static ɵfac = function ChefRatingPage_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ChefRatingPage)(i0.ɵɵdirectiveInject(i1.BFGUserService), i0.ɵɵdirectiveInject(i2.BFGMealPlanService), i0.ɵɵdirectiveInject(i3.HttpService), i0.ɵɵdirectiveInject(i4.MessageService), i0.ɵɵdirectiveInject(i5.Router));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ChefRatingPage,\n      selectors: [[\"app-chef-rating\"]],\n      standalone: false,\n      decls: 23,\n      vars: 1,\n      consts: [[\"slot\", \"start\"], [\"defaultHref\", \"/ratings\"], [1, \"wrap-text\"], [\"no-padding\", \"\"], [\"padding\", \"\"], [\"size\", \"12\", \"size-lg\", \"6\", \"offset-lg\", \"3\"], [\"position\", \"stacked\", \"color\", \"primary\"], [\"name\", \"feedback\", \"rows\", \"6\", \"cols\", \"20\", \"placeholder\", \"Please leave us a comment...\", 3, \"ngModelChange\", \"ngModel\"], [\"bfg-btm-btn\", \"\", \"expand\", \"full\", \"size\", \"large\", \"color\", \"secondary\", 3, \"click\"]],\n      template: function ChefRatingPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n          i0.ɵɵelement(3, \"ion-back-button\", 1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"ion-title\")(5, \"span\", 2);\n          i0.ɵɵtext(6, \"CHEF RATING\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(7, \"ion-content\")(8, \"ion-grid\", 3)(9, \"ion-row\", 4)(10, \"ion-col\", 5)(11, \"h3\");\n          i0.ɵɵtext(12, \"Chef Rating\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"form\")(14, \"ion-list\")(15, \"ion-item\")(16, \"ion-label\", 6);\n          i0.ɵɵtext(17, \"Comment\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"ion-textarea\", 7);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ChefRatingPage_Template_ion_textarea_ngModelChange_18_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.data.feedback, $event) || (ctx.data.feedback = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()()()()()()()();\n          i0.ɵɵelementStart(19, \"ion-footer\")(20, \"ion-button\", 8);\n          i0.ɵɵlistener(\"click\", function ChefRatingPage_Template_ion_button_click_20_listener() {\n            return ctx.save();\n          });\n          i0.ɵɵelementStart(21, \"strong\");\n          i0.ɵɵtext(22, \"Save\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(18);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.data.feedback);\n        }\n      },\n      dependencies: [i6.ɵNgNoValidate, i6.NgControlStatus, i6.NgControlStatusGroup, i6.NgModel, i6.NgForm, i7.IonButton, i7.IonButtons, i7.IonCol, i7.IonContent, i7.IonFooter, i7.IonGrid, i7.IonHeader, i7.IonItem, i7.IonLabel, i7.IonList, i7.IonRow, i7.IonTextarea, i7.IonTitle, i7.IonToolbar, i7.TextValueAccessor, i7.IonBackButton],\n      encapsulation: 2\n    });\n  }\n  return ChefRatingPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}