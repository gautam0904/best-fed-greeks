{"ast":null,"code":"import _asyncToGenerator from \"/Users/malaviyagautam/Code/JS/MEAN/Ionic/ionic-project-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Router } from '@angular/router';\nimport { HttpService } from '../../services/common/http.service';\nimport { MessageService } from '../../services/common/message.service';\nimport { BFGUserService } from '../../services/bfg-user.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/common/http.service\";\nimport * as i3 from \"../../services/common/message.service\";\nimport * as i4 from \"../../services/bfg-user.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@ionic/angular\";\nexport let PasswordResetPage = /*#__PURE__*/(() => {\n  class PasswordResetPage {\n    router;\n    http;\n    msg;\n    bfgUser;\n    data = {\n      email: ''\n    };\n    constructor(router, http, msg, bfgUser) {\n      this.router = router;\n      this.http = http;\n      this.msg = msg;\n      this.bfgUser = bfgUser;\n    }\n    ngOnInit() {}\n    save() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (!_this.data.email) {\n          _this.msg.showToast('Error', 'Please provide an email');\n          return;\n        }\n        yield _this.msg.showLoader('Submitting, please wait...');\n        _this.http.post('auth/forgot-password', _this.data).subscribe(/*#__PURE__*/function () {\n          var _ref = _asyncToGenerator(function* (response) {\n            yield _this.msg.hideLoader();\n            if (response.error) {\n              if (response.status == 404) {\n                _this.msg.showToast('Error', 'Did not find a user by that email');\n              }\n              return;\n            }\n            _this.msg.showToast('Success', 'Please check your email and follow the instructions to reset your password.');\n            _this.router.navigateByUrl('/login');\n          });\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      })();\n    }\n    static ɵfac = function PasswordResetPage_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || PasswordResetPage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HttpService), i0.ɵɵdirectiveInject(i3.MessageService), i0.ɵɵdirectiveInject(i4.BFGUserService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PasswordResetPage,\n      selectors: [[\"app-password-reset\"]],\n      standalone: false,\n      decls: 24,\n      vars: 2,\n      consts: [[\"slot\", \"start\"], [1, \"wrap-text\"], [\"size\", \"12\", \"padding\", \"\"], [\"position\", \"stacked\", \"color\", \"primary\"], [\"name\", \"email\", \"type\", \"email\", \"placeholder\", \"example@email.com\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"bfg-btm-btn\", \"\", \"expand\", \"full\", \"type\", \"submit\", \"color\", \"primary\", 3, \"click\"], [\"text-center\", \"\"], [\"bfg-btm-btn\", \"\", \"expand\", \"full\", \"size\", \"large\", \"color\", \"secondary\", \"expand\", \"block\", \"size\", \"large\", 3, \"routerLink\"]],\n      template: function PasswordResetPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n          i0.ɵɵelement(3, \"ion-menu-button\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"ion-title\")(5, \"span\", 1);\n          i0.ɵɵtext(6, \"RESET PASSWORD\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(7, \"ion-content\")(8, \"ion-grid\")(9, \"ion-row\")(10, \"ion-col\", 2)(11, \"form\")(12, \"ion-item\")(13, \"ion-label\", 3);\n          i0.ɵɵtext(14, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"ion-input\", 4);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function PasswordResetPage_Template_ion_input_ngModelChange_15_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.data.email, $event) || (ctx.data.email = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"ion-button\", 5);\n          i0.ɵɵlistener(\"click\", function PasswordResetPage_Template_ion_button_click_16_listener() {\n            return ctx.save();\n          });\n          i0.ɵɵtext(17, \"RESET MY PASSWORD\");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(18, \"ion-footer\")(19, \"p\", 6);\n          i0.ɵɵtext(20, \"Still having trouble?\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"ion-button\", 7)(22, \"strong\");\n          i0.ɵɵtext(23, \"TECHNICAL SUPPORT\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(15);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.data.email);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"routerLink\", \"/technical-support\");\n        }\n      },\n      dependencies: [i5.ɵNgNoValidate, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i6.IonButton, i6.IonButtons, i6.IonCol, i6.IonContent, i6.IonFooter, i6.IonGrid, i6.IonHeader, i6.IonInput, i6.IonItem, i6.IonLabel, i6.IonMenuButton, i6.IonRow, i6.IonTitle, i6.IonToolbar, i6.TextValueAccessor, i6.RouterLinkDelegate, i1.RouterLink],\n      encapsulation: 2\n    });\n  }\n  return PasswordResetPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}