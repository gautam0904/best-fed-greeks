{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/rutviks/OneDrive - infopercept.com/Desktop/New folder/best-fed-greeks-app-full-source/best-fed-greeks-app-full-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { EventEmitter } from '@angular/core';\nimport moment from 'moment';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject } from 'rxjs';\nimport { HttpService } from '../../services/common/http.service';\nimport { MessageService } from '../../services/common/message.service';\nimport { BFGUserService } from '../../services/bfg-user.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/bfg-user.service\";\nimport * as i3 from \"../../services/common/http.service\";\nimport * as i4 from \"../../services/common/message.service\";\nimport * as i5 from \"@ionic/angular\";\nimport * as i6 from \"@angular/common\";\nfunction MealDetailsComponent_ion_col_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-col\", 5)(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.day);\n  }\n}\nfunction MealDetailsComponent_ion_col_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-col\", 6)(1, \"h3\", 7);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.dateFormatted());\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Late Plate Selected\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Checked In\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 14);\n    i0.ɵɵtext(1, \" & Repeated \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const d_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" for \", d_r3.time_slot_signup, \" \");\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ion_icon_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 15);\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_ion_badge_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const d_r3 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.getNumberOfLikes(d_r3));\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_ion_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-icon\", 24);\n    i0.ɵɵlistener(\"click\", function MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_ion_icon_2_Template_ion_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r4 = i0.ɵɵnextContext(3);\n      const d_r3 = ctx_r4.$implicit;\n      const i_r6 = ctx_r4.index;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.likeMeal(i_r6, d_r3, true));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_ion_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-icon\", 25);\n    i0.ɵɵlistener(\"click\", function MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_ion_icon_3_Template_ion_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r4 = i0.ɵɵnextContext(3);\n      const d_r3 = ctx_r4.$implicit;\n      const i_r6 = ctx_r4.index;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.likeMeal(i_r6, d_r3, false));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_ion_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 26);\n    i0.ɵɵlistener(\"click\", function MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_ion_button_4_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r4 = i0.ɵɵnextContext(3);\n      const d_r3 = ctx_r4.$implicit;\n      const i_r6 = ctx_r4.index;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.removeRepeatMealPlan(i_r6, d_r3.meal, d_r3.late_plate));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 27);\n    i0.ɵɵtext(2, \"Cancel Repeat \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 17);\n    i0.ɵɵtemplate(1, MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_ion_badge_1_Template, 3, 1, \"ion-badge\", 18)(2, MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_ion_icon_2_Template, 1, 0, \"ion-icon\", 19)(3, MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_ion_icon_3_Template, 1, 0, \"ion-icon\", 20)(4, MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_ion_button_4_Template, 3, 0, \"ion-button\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const d_r3 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.bfgUser.isStudent() && ctx_r0.bfgUser.appFunctionEnabled(\"meal_likes\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isLiked(d_r3) && ctx_r0.bfgUser.isStudent() && ctx_r0.bfgUser.appFunctionEnabled(\"meal_likes\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isLiked(d_r3) && ctx_r0.bfgUser.isStudent() && ctx_r0.bfgUser.appFunctionEnabled(\"meal_likes\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", d_r3.repeated);\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_ion_item_1_Template, 5, 4, \"ion-item\", 16);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.bfgUser.isStudent() && ctx_r0.bfgUser.appFunctionEnabled(\"meal_likes\") || ctx_r0.bfgUser.isStudent());\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ng_container_16_ion_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 34);\n    i0.ɵɵelement(1, \"ion-icon\", 35);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Sign Up Complete\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ng_container_16_ion_item_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 36);\n    i0.ɵɵelement(1, \"ion-icon\", 37);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Sign Up Still Active\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-item-group\")(2, \"ion-item-divider\", 28)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(5, MealDetailsComponent_ion_list_4_ng_container_1_ng_container_16_ion_item_5_Template, 4, 0, \"ion-item\", 29)(6, MealDetailsComponent_ion_list_4_ng_container_1_ng_container_16_ion_item_6_Template, 4, 0, \"ion-item\", 30);\n    i0.ɵɵelementStart(7, \"ion-item\", 31);\n    i0.ɵɵlistener(\"click\", function MealDetailsComponent_ion_list_4_ng_container_1_ng_container_16_Template_ion_item_click_7_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const d_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.goToSignupRoster(d_r3));\n    });\n    i0.ɵɵelement(8, \"ion-icon\", 32)(9, \"ion-icon\", 33);\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const d_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", d_r3.meal, \" Check-In\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", d_r3.signup_finalized);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !d_r3.signup_finalized);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", d_r3.total_signup, \" Signed Up\");\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ng_container_17_ion_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 34);\n    i0.ɵɵelement(1, \"ion-icon\", 35);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Sign Up Complete\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ng_container_17_ion_item_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 36);\n    i0.ɵɵelement(1, \"ion-icon\", 37);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Sign Up Still Active\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_ng_container_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-item-group\")(2, \"ion-item-divider\", 28)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(5, MealDetailsComponent_ion_list_4_ng_container_1_ng_container_17_ion_item_5_Template, 4, 0, \"ion-item\", 29)(6, MealDetailsComponent_ion_list_4_ng_container_1_ng_container_17_ion_item_6_Template, 4, 0, \"ion-item\", 30);\n    i0.ɵɵelementStart(7, \"ion-item\", 31);\n    i0.ɵɵlistener(\"click\", function MealDetailsComponent_ion_list_4_ng_container_1_ng_container_17_Template_ion_item_click_7_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const d_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.goToLatePlateSignupRoster(d_r3));\n    });\n    i0.ɵɵelement(8, \"ion-icon\", 32)(9, \"ion-icon\", 33);\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const d_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", d_r3.meal, \" Late Plate\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", d_r3.late_plate_finalized);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !d_r3.late_plate_finalized);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", d_r3.total_late_plate, \" Signed Up\");\n  }\n}\nfunction MealDetailsComponent_ion_list_4_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-item\", 9);\n    i0.ɵɵlistener(\"click\", function MealDetailsComponent_ion_list_4_ng_container_1_Template_ion_item_click_1_listener() {\n      const d_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.goToMenuDetails(d_r3));\n    });\n    i0.ɵɵelementStart(2, \"ion-label\", 10)(3, \"h2\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵtemplate(6, MealDetailsComponent_ion_list_4_ng_container_1_span_6_Template, 2, 0, \"span\", 4)(7, MealDetailsComponent_ion_list_4_ng_container_1_span_7_Template, 2, 0, \"span\", 4)(8, MealDetailsComponent_ion_list_4_ng_container_1_span_8_Template, 2, 0, \"span\", 11)(9, MealDetailsComponent_ion_list_4_ng_container_1_span_9_Template, 2, 1, \"span\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 12);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(12, MealDetailsComponent_ion_list_4_ng_container_1_ion_icon_12_Template, 1, 0, \"ion-icon\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, MealDetailsComponent_ion_list_4_ng_container_1_ng_container_13_Template, 2, 1, \"ng-container\", 4);\n    i0.ɵɵpipe(14, \"async\");\n    i0.ɵɵpipe(15, \"async\");\n    i0.ɵɵtemplate(16, MealDetailsComponent_ion_list_4_ng_container_1_ng_container_16_Template, 13, 4, \"ng-container\", 4)(17, MealDetailsComponent_ion_list_4_ng_container_1_ng_container_17_Template, 13, 4, \"ng-container\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const d_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", d_r3.meal, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", d_r3.late_plate);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", d_r3.checked_in);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", d_r3.repeated);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", d_r3.time_slot_signup);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(d_r3.dish);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.drilldown);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(14, 10, ctx_r0.bfgUser.userConfigLoaded) || i0.ɵɵpipeBind1(15, 12, ctx_r0.detailsUpdated$));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isChef && d_r3.has_signup);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isChef && d_r3.has_late_plate);\n  }\n}\nfunction MealDetailsComponent_ion_list_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\");\n    i0.ɵɵtemplate(1, MealDetailsComponent_ion_list_4_ng_container_1_Template, 18, 14, \"ng-container\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.details);\n  }\n}\nfunction MealDetailsComponent_ion_list_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\")(1, \"ion-item\")(2, \"p\");\n    i0.ɵɵtext(3, \"No meal service\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport let MealDetailsComponent = /*#__PURE__*/(() => {\n  class MealDetailsComponent {\n    router;\n    bfgUser;\n    http;\n    msg;\n    _detailsUpdated = new BehaviorSubject(false);\n    _isFetchingConfig = false;\n    detailsUpdated$ = this._detailsUpdated.asObservable();\n    drilldown = true;\n    hideHeader = false;\n    day = '';\n    date = '';\n    houseId = 0;\n    details = [];\n    detailsChanged = new EventEmitter();\n    constructor(router, bfgUser, http, msg) {\n      this.router = router;\n      this.bfgUser = bfgUser;\n      this.http = http;\n      this.msg = msg;\n    }\n    ngOnInit() {}\n    dateFormatted() {\n      return this.date ? moment(this.date).format('MMM DD, YYYY') : '';\n    }\n    get isStudent() {\n      return this.bfgUser.isStudent();\n    }\n    get isChef() {\n      return this.bfgUser.isChef() || this.bfgUser.isSuperChef();\n    }\n    isLiked(detail) {\n      return detail.liked;\n    }\n    getNumberOfLikes(detail) {\n      return detail.number_of_likes ? detail.number_of_likes : 0;\n    }\n    removeRepeatMealPlan(_x, _x2) {\n      var _this = this;\n      return _asyncToGenerator(function* (idx, meal, latePlate = false) {\n        yield _this.msg.showLoader('Removing repeat meal plan, please wait...');\n        _this.http.post('bfg/meals/remove-repeat-meal-plan', {\n          date: moment(_this.date).format('MMM DD, YYYY'),\n          day: _this.day ? _this.day.toLowerCase() : moment(_this.date).format('dddd').toLowerCase(),\n          meal_type: meal,\n          late_plate: latePlate ? 1 : 0\n        }).subscribe(/*#__PURE__*/function () {\n          var _ref = _asyncToGenerator(function* (response) {\n            yield _this.msg.hideLoader();\n            if (response.error) {\n              _this.msg.showToast('Error', response.message ? response.message : 'Error removing repeat meal, please contac technical support if this persists');\n              return;\n            }\n            _this.msg.showToast('Success', 'Meal plan repeat removed successfully');\n            _this.details[idx].repeated = false;\n            _this.details[idx].checked_in = response.checked_in;\n            _this.details[idx].late_plate = response.late_plate;\n            _this.detailsChanged.emit();\n          });\n          return function (_x3) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      }).apply(this, arguments);\n    }\n    likeMeal(_x4, _x5) {\n      var _this2 = this;\n      return _asyncToGenerator(function* (idx, detail, like = true) {\n        if (like) {\n          yield _this2.msg.showLoader('Liking meal, please wait...');\n        } else {\n          yield _this2.msg.showLoader('Removing meal like, please wait...');\n        }\n        _this2.http.post('bfg/meals/like-meal', {\n          date: moment(_this2.date).format('MMM DD, YYYY'),\n          day: _this2.day ? _this2.day.toLowerCase() : moment(_this2.date).format('dddd').toLowerCase(),\n          meal_type: detail.meal,\n          like: like ? 1 : 0\n        }).subscribe(/*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator(function* (response) {\n            yield _this2.msg.hideLoader();\n            if (response.error) {\n              _this2.msg.showToast('Error', response.message ? response.message : 'Error liking meal, please contact technical support if this persists');\n              return;\n            }\n            _this2.msg.showToast('Success', like ? 'Meal liked' : 'Meal like removed');\n            _this2.details[idx].liked = like;\n            _this2.detailsChanged.emit();\n            _this2._detailsUpdated.next(true);\n          });\n          return function (_x6) {\n            return _ref2.apply(this, arguments);\n          };\n        }());\n      }).apply(this, arguments);\n    }\n    goToMenuDetails(d) {\n      if (!this.drilldown) return;\n      if (this.houseId) {\n        this.router.navigateByUrl(['/day-menu', this.date, d.meal.toLowerCase(), this.houseId].join('/'));\n      } else {\n        this.router.navigateByUrl(['/day-menu', this.date, d.meal.toLowerCase()].join('/'));\n      }\n    }\n    goToSignupRoster(d) {\n      this.router.navigateByUrl(['/house-roster', this.houseId, this.date, d.meal.toLowerCase()].join('/'));\n    }\n    goToLatePlateSignupRoster(d) {\n      this.router.navigateByUrl(['/house-roster', this.houseId, this.date, 'late-plate-' + d.meal.toLowerCase()].join('/'));\n    }\n    static ɵfac = function MealDetailsComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MealDetailsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.BFGUserService), i0.ɵɵdirectiveInject(i3.HttpService), i0.ɵɵdirectiveInject(i4.MessageService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MealDetailsComponent,\n      selectors: [[\"app-meal-details\"]],\n      inputs: {\n        drilldown: \"drilldown\",\n        hideHeader: \"hideHeader\",\n        day: \"day\",\n        date: \"date\",\n        houseId: \"houseId\",\n        details: \"details\"\n      },\n      outputs: {\n        detailsChanged: \"detailsChanged\"\n      },\n      standalone: false,\n      decls: 6,\n      vars: 4,\n      consts: [[\"padding\", \"\", 1, \"menu-details\", 2, \"padding-bottom\", \"0px\"], [\"size\", \"6\", \"size-lg\", \"3\", \"offset-lg\", \"3\", \"no-padding\", \"\", \"class\", \"day\", 4, \"ngIf\"], [\"size\", \"6\", \"size-lg\", \"3\", \"no-padding\", \"\", \"class\", \"date\", 4, \"ngIf\"], [\"size\", \"12\", \"size-lg\", \"6\", \"offset-lg\", \"3\", \"no-padding\", \"\", 1, \"meal-details\"], [4, \"ngIf\"], [\"size\", \"6\", \"size-lg\", \"3\", \"offset-lg\", \"3\", \"no-padding\", \"\", 1, \"day\"], [\"size\", \"6\", \"size-lg\", \"3\", \"no-padding\", \"\", 1, \"date\"], [\"text-right\", \"\"], [4, \"ngFor\", \"ngForOf\"], [\"no-padding\", \"\", 3, \"click\"], [1, \"alignleft\"], [\"class\", \"repeated-detail\", 4, \"ngIf\"], [1, \"dish-items\"], [\"ios\", \"ios-arrow-forward\", \"md\", \"md-arrow-forward\", \"slot\", \"end\", 4, \"ngIf\"], [1, \"repeated-detail\"], [\"ios\", \"ios-arrow-forward\", \"md\", \"md-arrow-forward\", \"slot\", \"end\"], [\"class\", \"detail-footer\", 4, \"ngIf\"], [1, \"detail-footer\"], [\"class\", \"light-badge like-count\", 4, \"ngIf\"], [\"class\", \"like-icon not-liked\", \"name\", \"heart-empty\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"like-icon liked\", \"name\", \"heart\", 3, \"click\", 4, \"ngIf\"], [\"color\", \"warning\", \"size\", \"large\", \"class\", \"cancel-repeat\", 3, \"click\", 4, \"ngIf\"], [1, \"light-badge\", \"like-count\"], [\"name\", \"heart\", \"float-right\", \"\", 1, \"like-icon-count\", \"liked\"], [\"name\", \"heart-empty\", 1, \"like-icon\", \"not-liked\", 3, \"click\"], [\"name\", \"heart\", 1, \"like-icon\", \"liked\", 3, \"click\"], [\"color\", \"warning\", \"size\", \"large\", 1, \"cancel-repeat\", 3, \"click\"], [\"ios\", \"ios-close-circle\", \"md\", \"md-close-circle\", \"size\", \"large\", \"slot\", \"start\"], [\"lines\", \"none\", \"color\", \"primary\"], [\"lines\", \"none\", \"color\", \"success\", 4, \"ngIf\"], [\"lines\", \"none\", \"color\", \"danger\", 4, \"ngIf\"], [\"color\", \"medium\", \"lines\", \"full\", 3, \"click\"], [\"name\", \"information-circle\", \"slot\", \"start\"], [\"name\", \"arrow-forward\", \"slot\", \"end\"], [\"lines\", \"none\", \"color\", \"success\"], [\"name\", \"checkmark-circle\", \"slot\", \"start\"], [\"lines\", \"none\", \"color\", \"danger\"], [\"name\", \"alert\", \"slot\", \"start\"]],\n      template: function MealDetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-row\", 0);\n          i0.ɵɵtemplate(1, MealDetailsComponent_ion_col_1_Template, 3, 1, \"ion-col\", 1)(2, MealDetailsComponent_ion_col_2_Template, 3, 1, \"ion-col\", 2);\n          i0.ɵɵelementStart(3, \"ion-col\", 3);\n          i0.ɵɵtemplate(4, MealDetailsComponent_ion_list_4_Template, 2, 1, \"ion-list\", 4)(5, MealDetailsComponent_ion_list_5_Template, 4, 0, \"ion-list\", 4);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.hideHeader);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.hideHeader);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.details.length > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.details.length == 0);\n        }\n      },\n      dependencies: [i5.IonBadge, i5.IonButton, i5.IonCol, i5.IonIcon, i5.IonItem, i5.IonItemDivider, i5.IonItemGroup, i5.IonLabel, i5.IonList, i5.IonRow, i6.NgForOf, i6.NgIf, i6.AsyncPipe],\n      styles: [\".menu-details[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%], .menu-details[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{background:var(--ion-color-medium);color:var(--ion-color-dark)}.menu-details[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .menu-details[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:1rem}.menu-details[_ngcontent-%COMP%]   .meal-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:0rem}.menu-details[_ngcontent-%COMP%]   .meal-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: white}.menu-details[_ngcontent-%COMP%]   .meal-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding:.5rem 1rem}.menu-details[_ngcontent-%COMP%]   .meal-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{white-space:pre-wrap;font-size:1.35rem;font-weight:900}.menu-details[_ngcontent-%COMP%]   .meal-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--ion-color-success);font-weight:600;font-size:1.2rem}.menu-details[_ngcontent-%COMP%]   .meal-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;white-space:pre-wrap}.menu-details[_ngcontent-%COMP%]   .meal-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon.like-icon[_ngcontent-%COMP%]{padding:.5rem 1rem;cursor:pointer}.menu-details[_ngcontent-%COMP%]   .meal-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-badge.like-count[_ngcontent-%COMP%]{font-size:1em;background-color:#ccc}.menu-details[_ngcontent-%COMP%]   .meal-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-badge.like-count[_ngcontent-%COMP%]   ion-icon.like-icon-count[_ngcontent-%COMP%]{font-size:1.5em}.menu-details[_ngcontent-%COMP%]   .meal-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .liked[_ngcontent-%COMP%]{color:#d3312f}.menu-details[_ngcontent-%COMP%]   .meal-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .not-liked[_ngcontent-%COMP%]{color:#000}.menu-details[_ngcontent-%COMP%]   .meal-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item.detail-footer[_ngcontent-%COMP%]{--background: #f6be001a}p.dish-items[_ngcontent-%COMP%]{font-size:1em!important}.cancel-repeat[_ngcontent-%COMP%]{font-size:1.15rem;margin:.75rem 0rem;white-space:pre-wrap}.repeated-detail[_ngcontent-%COMP%]{font-style:italic}\"]\n    });\n  }\n  return MealDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}