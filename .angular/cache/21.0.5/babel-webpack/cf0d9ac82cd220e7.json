{"ast":null,"code":"import _asyncToGenerator from \"/Users/malaviyagautam/Code/JS/MEAN/Ionic/ionic-project-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ChangeDetectorRef } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { IonContent, IonInfiniteScroll, ModalController } from '@ionic/angular';\nimport { HttpService } from '../../services/common/http.service';\nimport { MessageService } from '../../services/common/message.service';\nimport { BFGUserService } from '../../services/bfg-user.service';\nimport { ChatInteractionsPage } from './chat-interactions.page';\nimport moment from 'moment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/bfg-user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/common/http.service\";\nimport * as i4 from \"../../services/common/message.service\";\nimport * as i5 from \"@ionic/angular\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nfunction ChatPage_ion_back_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-back-button\", 16);\n  }\n}\nfunction ChatPage_ion_menu_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-menu-button\");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r4.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 34);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r4.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r4.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r4.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r4.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r4.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r4.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_1_Template, 3, 1, \"ion-badge\", 31)(2, ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_2_Template, 3, 1, \"ion-badge\", 31)(3, ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_3_Template, 3, 1, \"ion-badge\", 31)(4, ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_4_Template, 3, 1, \"ion-badge\", 31)(5, ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_5_Template, 3, 1, \"ion-badge\", 31)(6, ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_6_Template, 3, 1, \"ion-badge\", 31)(7, ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_ion_badge_7_Template, 3, 1, \"ion-badge\", 31);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r4.value > 0 && item_r4.key == \"heart\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r4.value > 0 && item_r4.key == \"flame\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r4.value > 0 && item_r4.key == \"checkmark\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r4.value > 0 && item_r4.key == \"leaf\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r4.value > 0 && item_r4.key == \"carrot\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r4.value > 0 && item_r4.key == \"beer\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r4.value > 0 && item_r4.key == \"wine\");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ion_icon_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-icon\", 40);\n    i0.ɵɵlistener(\"click\", function ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ion_icon_8_Template_ion_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const message_r5 = i0.ɵɵnextContext(4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.viewInteractions(message_r5));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-row\")(1, \"ion-col\", 11);\n    i0.ɵɵtemplate(2, ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ng_container_2_Template, 8, 7, \"ng-container\", 26);\n    i0.ɵɵpipe(3, \"keyvalue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-col\", 27)(5, \"ion-badge\", 28)(6, \"ion-icon\", 29);\n    i0.ɵɵlistener(\"click\", function ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_Template_ion_icon_click_6_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const message_r5 = i0.ɵɵnextContext(3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startAddingInteraction(message_r5));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"ion-badge\", 28);\n    i0.ɵɵtemplate(8, ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_ion_icon_8_Template, 1, 0, \"ion-icon\", 30);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const message_r5 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 4, ctx_r1.getInteractions(message_r5)));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"add-interaction-active\", message_r5.addingInteraction);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.bfgUser.isStudent());\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_ion_row_1_Template, 9, 6, \"ion-row\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.bfgUser.appFunctionEnabled(\"chat_interactions\"));\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-col\", 23)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 24);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 25);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵtemplate(9, ChatPage_ion_grid_11_ion_row_3_ion_col_1_ng_container_9_Template, 2, 1, \"ng-container\", 2);\n    i0.ɵɵpipe(10, \"async\");\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r5.message);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(message_r5.user);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r5.created_at);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(10, 4, ctx_r1.bfgUser.userConfigLoaded) || i0.ɵɵpipeBind1(11, 6, ctx_r1.bfgUser.houseChanged));\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r7.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 34);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r7.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r7.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r7.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r7.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r7.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"ion-icon\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", item_r7.value, \" \");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_1_Template, 3, 1, \"ion-badge\", 31)(2, ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_2_Template, 3, 1, \"ion-badge\", 31)(3, ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_3_Template, 3, 1, \"ion-badge\", 31)(4, ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_4_Template, 3, 1, \"ion-badge\", 31)(5, ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_5_Template, 3, 1, \"ion-badge\", 31)(6, ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_6_Template, 3, 1, \"ion-badge\", 31)(7, ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_ion_badge_7_Template, 3, 1, \"ion-badge\", 31);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r7.value > 0 && item_r7.key == \"heart\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r7.value > 0 && item_r7.key == \"flame\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r7.value > 0 && item_r7.key == \"checkmark\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r7.value > 0 && item_r7.key == \"leaf\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r7.value > 0 && item_r7.key == \"carrot\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r7.value > 0 && item_r7.key == \"beer\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r7.value > 0 && item_r7.key == \"wine\");\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵtemplate(2, ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_ng_container_2_Template, 8, 7, \"ng-container\", 26);\n    i0.ɵɵpipe(3, \"keyvalue\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r5 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 1, ctx_r1.getInteractions(message_r5)));\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"ion-badge\", 28)(3, \"ion-icon\", 40);\n    i0.ɵɵlistener(\"click\", function ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_2_Template_ion_icon_click_3_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const message_r5 = i0.ɵɵnextContext(3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.viewInteractions(message_r5));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_1_Template, 4, 3, \"div\", 2)(2, ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_div_2_Template, 4, 0, \"div\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.bfgUser.appFunctionEnabled(\"chat_interactions\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.bfgUser.isStudent() && ctx_r1.bfgUser.appFunctionEnabled(\"chat_interactions\"));\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_ion_col_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-col\", 41)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 24);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 25);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, ChatPage_ion_grid_11_ion_row_3_ion_col_2_ng_container_8_Template, 3, 2, \"ng-container\", 2);\n    i0.ɵɵpipe(9, \"async\");\n    i0.ɵɵpipe(10, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r5.message);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(message_r5.user);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r5.created_at);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(9, 4, ctx_r1.bfgUser.userConfigLoaded) || i0.ɵɵpipeBind1(10, 6, ctx_r1.bfgUser.houseChanged));\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-row\", 17);\n    i0.ɵɵtemplate(1, ChatPage_ion_grid_11_ion_row_3_ion_col_1_Template, 12, 8, \"ion-col\", 21)(2, ChatPage_ion_grid_11_ion_row_3_ion_col_2_Template, 11, 8, \"ion-col\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", message_r5.user_id !== ctx_r1.currentUserId);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", message_r5.user_id === ctx_r1.currentUserId);\n  }\n}\nfunction ChatPage_ion_grid_11_ion_row_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-row\")(1, \"p\");\n    i0.ɵɵtext(2, \"No messages found\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ChatPage_ion_grid_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-grid\", 17)(1, \"ion-infinite-scroll\", 18);\n    i0.ɵɵlistener(\"ionInfinite\", function ChatPage_ion_grid_11_Template_ion_infinite_scroll_ionInfinite_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.loadMorePreviousMessages($event));\n    });\n    i0.ɵɵelement(2, \"ion-infinite-scroll-content\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ChatPage_ion_grid_11_ion_row_3_Template, 3, 2, \"ion-row\", 20)(4, ChatPage_ion_grid_11_ion_row_4_Template, 3, 0, \"ion-row\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getMessages());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.messages.length == 0);\n  }\n}\nfunction ChatPage_ion_fab_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-fab\", 42)(1, \"ion-fab-button\");\n    i0.ɵɵelement(2, \"ion-icon\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-fab-list\", 44)(4, \"ion-fab-button\", 45);\n    i0.ɵɵlistener(\"click\", function ChatPage_ion_fab_12_Template_ion_fab_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addInteraction(\"heart\"));\n    });\n    i0.ɵɵelement(5, \"ion-icon\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ion-fab-button\", 45);\n    i0.ɵɵlistener(\"click\", function ChatPage_ion_fab_12_Template_ion_fab_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addInteraction(\"flame\"));\n    });\n    i0.ɵɵelement(7, \"ion-icon\", 47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ion-fab-button\", 45);\n    i0.ɵɵlistener(\"click\", function ChatPage_ion_fab_12_Template_ion_fab_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addInteraction(\"checkmark\"));\n    });\n    i0.ɵɵelement(9, \"ion-icon\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ion-fab-button\", 45);\n    i0.ɵɵlistener(\"click\", function ChatPage_ion_fab_12_Template_ion_fab_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addInteraction(\"leaf\"));\n    });\n    i0.ɵɵelement(11, \"ion-icon\", 49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"ion-fab-button\", 45);\n    i0.ɵɵlistener(\"click\", function ChatPage_ion_fab_12_Template_ion_fab_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addInteraction(\"carrot\"));\n    });\n    i0.ɵɵelement(13, \"ion-icon\", 50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"ion-fab-button\", 45);\n    i0.ɵɵlistener(\"click\", function ChatPage_ion_fab_12_Template_ion_fab_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addInteraction(\"beer\"));\n    });\n    i0.ɵɵelement(15, \"ion-icon\", 51);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ion-fab-button\", 45);\n    i0.ɵɵlistener(\"click\", function ChatPage_ion_fab_12_Template_ion_fab_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addInteraction(\"wine\"));\n    });\n    i0.ɵɵelement(17, \"ion-icon\", 52);\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport let ChatPage = /*#__PURE__*/(() => {\n  class ChatPage {\n    bfgUser;\n    route;\n    router;\n    http;\n    msg;\n    cd;\n    modalController;\n    content;\n    infiniteScroll;\n    messages = [];\n    loaded = false;\n    newMsg = '';\n    currentUserId = '';\n    get isStudent() {\n      return this.bfgUser.isStudent();\n    }\n    get isChef() {\n      return this.bfgUser.isChef() || this.bfgUser.isSuperChef();\n    }\n    _houseId = 0;\n    _isAddingInteraction = false;\n    _messageAddingInteractionTo = null;\n    constructor(bfgUser, route, router, http, msg, cd, modalController) {\n      this.bfgUser = bfgUser;\n      this.route = route;\n      this.router = router;\n      this.http = http;\n      this.msg = msg;\n      this.cd = cd;\n      this.modalController = modalController;\n    }\n    ionViewDidEnter() {\n      var _this = this;\n      this.route.params.subscribe(params => {\n        this._houseId = params['houseId'] ? params['houseId'] : 0;\n        if (this._houseId) {\n          this.bfgUser.initializeHouses().subscribe(/*#__PURE__*/function () {\n            var _ref = _asyncToGenerator(function* (response) {\n              _this.bfgUser.switchToHouse(_this._houseId);\n              _this.load();\n            });\n            return function (_x) {\n              return _ref.apply(this, arguments);\n            };\n          }());\n        } else {\n          this.load();\n        }\n      });\n    }\n    isAddingInteraction() {\n      return this._isAddingInteraction;\n    }\n    startAddingInteraction(message) {\n      if (message.addingInteraction) {\n        message.addingInteraction = false;\n        this._isAddingInteraction = false;\n        if (this._messageAddingInteractionTo) {\n          this._messageAddingInteractionTo.addingInteraction = false;\n          this._messageAddingInteractionTo = null;\n        }\n        return true;\n      }\n      this._isAddingInteraction = true;\n      if (this._messageAddingInteractionTo) {\n        this._messageAddingInteractionTo.addingInteraction = false;\n      }\n      message.addingInteraction = true;\n      this._messageAddingInteractionTo = message;\n      this.cd.markForCheck();\n      return true;\n    }\n    viewInteractions(message) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const modal = yield _this2.modalController.create({\n          component: ChatInteractionsPage,\n          componentProps: {\n            message: message\n          }\n        });\n        return yield modal.present();\n      })();\n    }\n    addInteraction(interactionType) {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        yield _this3.msg.showLoader('Saving reaction, please wait...');\n        let myMessage = _this3._messageAddingInteractionTo;\n        if (_this3.bfgUser.isChef() || _this3.bfgUser.isSuperChef()) {\n          _this3.http.post('bfg/chat/add-interaction-as-chef', {\n            message_id: myMessage.id,\n            bfg_house_id: _this3._houseId,\n            interaction_type: interactionType\n          }).subscribe(/*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator(function* (response) {\n              yield _this3.msg.hideLoader();\n              _this3.updateInteractionView(interactionType);\n            });\n            return function (_x2) {\n              return _ref2.apply(this, arguments);\n            };\n          }());\n        } else {\n          _this3.http.post('bfg/chat/add-interaction-as-student', {\n            message_id: myMessage.id,\n            interaction_type: interactionType\n          }).subscribe(/*#__PURE__*/function () {\n            var _ref3 = _asyncToGenerator(function* (response) {\n              yield _this3.msg.hideLoader();\n              _this3.updateInteractionView(interactionType);\n            });\n            return function (_x3) {\n              return _ref3.apply(this, arguments);\n            };\n          }());\n        }\n      })();\n    }\n    updateInteractionView(interactionType) {\n      let myMessage = this._messageAddingInteractionTo;\n      if (!myMessage.interactions) {\n        myMessage.interactions = {};\n      }\n      if (!myMessage.interactions[interactionType]) {\n        myMessage.interactions[interactionType] = [];\n      }\n      let userId = this.bfgUser.getId();\n      let isStudent = this.bfgUser.isStudent();\n      userId = (isStudent ? 'user' : 'backend') + '_' + userId;\n      for (let [key, value] of Object.entries(myMessage.interactions)) {\n        if (!Array.isArray(value)) continue;\n        let idxsToRemove = [];\n        value.forEach((interaction, idx) => {\n          if (interaction.user_id == userId) {\n            idxsToRemove.push(idx);\n          }\n        });\n        if (idxsToRemove.length > 0) {\n          myMessage.interactions[key] = value.filter((interaction, idx) => {\n            return idxsToRemove.indexOf(idx) == -1;\n          });\n        }\n      }\n      myMessage.interactions[interactionType].push({\n        user_id: userId,\n        created_at: moment().format('YYYY-M-DD HH:mm:ss')\n      });\n      this._messageAddingInteractionTo.interactions = myMessage.interactions;\n      this._isAddingInteraction = false;\n      this._messageAddingInteractionTo.addingInteraction = false;\n      this._messageAddingInteractionTo = null;\n      this.cd.markForCheck();\n    }\n    getMessages() {\n      return this.messages;\n    }\n    getInteractions(message) {\n      if (!message.interactions) {\n        return {};\n      }\n      let interactions = {};\n      for (let [key, value] of Object.entries(message.interactions)) {\n        let myValue = value;\n        interactions[key] = myValue.length;\n      }\n      return interactions;\n    }\n    sendMessage() {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this4.newMsg) return;\n        yield _this4.msg.showLoader('Sending message, please wait...');\n        if (_this4.bfgUser.isChef() || _this4.bfgUser.isSuperChef()) {\n          _this4.http.post('bfg/chat/send-message-as-chef', {\n            bfg_house_id: _this4._houseId,\n            latest_message_id: _this4.messages.length > 0 ? _this4.messages[_this4.messages.length - 1].id : null,\n            message: _this4.newMsg\n          }).subscribe(/*#__PURE__*/function () {\n            var _ref4 = _asyncToGenerator(function* (response) {\n              yield _this4.msg.hideLoader();\n              _this4.newMsg = '';\n              // Newly loaded messages, including most recent\n              _this4.messages = _this4.messages.concat(response.messages);\n              _this4.scrollToBottom();\n              _this4.loaded = true;\n            });\n            return function (_x4) {\n              return _ref4.apply(this, arguments);\n            };\n          }());\n        } else {\n          _this4.http.post('bfg/chat/send-message-as-student', {\n            latest_message_id: _this4.messages.length > 0 ? _this4.messages[_this4.messages.length - 1].id : null,\n            message: _this4.newMsg\n          }).subscribe(/*#__PURE__*/function () {\n            var _ref5 = _asyncToGenerator(function* (response) {\n              yield _this4.msg.hideLoader();\n              _this4.newMsg = '';\n              _this4.messages = _this4.messages.concat(response.messages);\n              _this4.scrollToBottom();\n              _this4.loaded = true;\n            });\n            return function (_x5) {\n              return _ref5.apply(this, arguments);\n            };\n          }());\n        }\n      })();\n    }\n    refreshChat() {\n      var _this5 = this;\n      return _asyncToGenerator(function* () {\n        _this5.load(true);\n      })();\n    }\n    loadMorePreviousMessages(infiniteScroll) {\n      var _this6 = this;\n      return _asyncToGenerator(function* () {\n        _this6.load(true, infiniteScroll);\n      })();\n    }\n    load() {\n      var _this7 = this;\n      return _asyncToGenerator(function* (isRefresh = false, infiniteScroll = false) {\n        yield _this7.msg.showLoader();\n        if (_this7.bfgUser.isChef() || _this7.bfgUser.isSuperChef()) {\n          let allMessageIds = [];\n          for (let message of _this7.messages) {\n            allMessageIds.push(message.id);\n          }\n          _this7.http.post('bfg/chat/load-messages-as-chef', {\n            bfg_house_id: _this7._houseId,\n            all_message_ids: allMessageIds.join(','),\n            earliest_message_id: _this7.messages.length > 0 && infiniteScroll ? _this7.messages[0].id : null,\n            latest_message_id: _this7.messages.length > 0 && !infiniteScroll ? _this7.messages[_this7.messages.length - 1].id : null\n          }).subscribe(/*#__PURE__*/function () {\n            var _ref6 = _asyncToGenerator(function* (response) {\n              yield _this7.msg.hideLoader();\n              if (isRefresh && !infiniteScroll) {\n                _this7.messages = _this7.messages.concat(response.messages);\n              } else if (isRefresh && infiniteScroll) {\n                _this7.messages = response.messages.concat(_this7.messages);\n                _this7.infiniteScroll.complete();\n                infiniteScroll.target.complete();\n                if (response.messages.length == 0) {\n                  infiniteScroll.target.disabled = true;\n                }\n              } else {\n                _this7.messages = response.messages;\n              }\n              _this7.currentUserId = response.user_id;\n              if (response.interactions) {\n                for (let message of _this7.messages) {\n                  if (!response.interactions[message.id]) continue;\n                  message.interactions = response.interactions[message.id];\n                }\n              }\n              if (!infiniteScroll) {\n                _this7.scrollToBottom();\n              } else {\n                _this7.cd.markForCheck();\n              }\n              _this7.loaded = true;\n            });\n            return function (_x6) {\n              return _ref6.apply(this, arguments);\n            };\n          }());\n        } else {\n          let allMessageIds = [];\n          for (let message of _this7.messages) {\n            allMessageIds.push(message.id);\n          }\n          _this7.http.post('bfg/chat/load-messages-as-student', {\n            all_message_ids: allMessageIds.join(','),\n            earliest_message_id: _this7.messages.length > 0 && infiniteScroll ? _this7.messages[0].id : null,\n            latest_message_id: _this7.messages.length > 0 && !infiniteScroll ? _this7.messages[_this7.messages.length - 1].id : null\n          }).subscribe(/*#__PURE__*/function () {\n            var _ref7 = _asyncToGenerator(function* (response) {\n              yield _this7.msg.hideLoader();\n              if (isRefresh && !infiniteScroll) {\n                _this7.messages = _this7.messages.concat(response.messages);\n              } else if (isRefresh && infiniteScroll) {\n                _this7.messages = response.messages.concat(_this7.messages);\n                _this7.infiniteScroll.complete();\n                if (response.messages.length == 0) {\n                  infiniteScroll.target.disabled = true;\n                }\n              } else {\n                _this7.messages = response.messages;\n              }\n              if (response.interactions) {\n                for (let message of _this7.messages) {\n                  if (!response.interactions[message.id]) continue;\n                  message.interactions = response.interactions[message.id];\n                }\n              }\n              _this7.currentUserId = response.user_id;\n              if (!infiniteScroll) {\n                _this7.scrollToBottom();\n              } else {\n                _this7.cd.markForCheck();\n              }\n              _this7.loaded = true;\n            });\n            return function (_x7) {\n              return _ref7.apply(this, arguments);\n            };\n          }());\n        }\n      }).apply(this, arguments);\n    }\n    scrollToBottom() {\n      setTimeout(() => {\n        this.content.scrollToBottom(100);\n        setTimeout(() => {\n          this.content.scrollToBottom(100);\n          setTimeout(() => {\n            this.cd.markForCheck();\n          });\n        }, 100);\n      }, 0);\n    }\n    static ɵfac = function ChatPage_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ChatPage)(i0.ɵɵdirectiveInject(i1.BFGUserService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.HttpService), i0.ɵɵdirectiveInject(i4.MessageService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i5.ModalController));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ChatPage,\n      selectors: [[\"app-chat\"]],\n      viewQuery: function ChatPage_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(IonContent, 5)(IonInfiniteScroll, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.infiniteScroll = _t.first);\n        }\n      },\n      standalone: false,\n      decls: 21,\n      vars: 7,\n      consts: [[\"slot\", \"start\"], [\"defaultHref\", \"/chat-list\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"wrap-text\"], [\"slot\", \"end\"], [\"name\", \"refresh\", \"slot\", \"icon-only\", 3, \"click\"], [3, \"scrollEvents\"], [\"padding\", \"\", 4, \"ngIf\"], [\"vertical\", \"top\", \"horizontal\", \"end\", \"slot\", \"fixed\", 4, \"ngIf\"], [\"color\", \"light\"], [\"no-padding\", \"\", \"align-items-center\", \"\"], [\"size\", \"10\"], [\"auto-grow\", \"true\", \"rows\", \"1\", 1, \"message-input\", 3, \"ngModelChange\", \"ngModel\"], [\"size\", \"2\"], [\"expand\", \"block\", \"fill\", \"clear\", \"color\", \"primary\", 1, \"msg-btn\", 3, \"click\", \"disabled\"], [\"name\", \"ios-send\", \"slot\", \"icon-only\"], [\"defaultHref\", \"/chat-list\"], [\"padding\", \"\"], [\"threshold\", \"100px\", \"position\", \"top\", 3, \"ionInfinite\"], [\"loadingSpinner\", \"bubbles\", \"loadingText\", \"Loading more data...\"], [\"padding\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"size\", \"9\", \"class\", \"message other-message\", 4, \"ngIf\"], [\"offset\", \"3\", \"size\", \"9\", \"class\", \"message my-message\", 4, \"ngIf\"], [\"size\", \"9\", 1, \"message\", \"other-message\"], [\"text-right\", \"\", 1, \"messager-name\"], [\"text-right\", \"\", 1, \"time\"], [4, \"ngFor\", \"ngForOf\"], [\"size\", \"2\", 1, \"interaction-col-divider\"], [1, \"light-badge\"], [\"name\", \"add-circle-outline\", 1, \"add-interaction\", 3, \"click\"], [\"class\", \"add-interaction\", \"name\", \"eye\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"light-interaction-badge\", \"float-right\", \"\", 4, \"ngIf\"], [\"float-right\", \"\", 1, \"light-interaction-badge\"], [\"name\", \"heart\", \"float-right\", \"\", 1, \"interaction\", \"fab-heart\"], [\"name\", \"flame\", \"float-right\", \"\", 1, \"interaction\", \"fab-flame\"], [\"name\", \"checkmark-circle\", \"float-right\", \"\", 1, \"interaction\", \"fab-checkmark\"], [\"name\", \"leaf\", \"float-right\", \"\", 1, \"interaction\", \"fab-leaf\"], [\"name\", \"nutrition\", \"float-right\", \"\", 1, \"interaction\", \"fab-carrot\"], [\"name\", \"beer\", \"float-right\", \"\", 1, \"interaction\", \"fab-beer\"], [\"name\", \"wine\", \"float-right\", \"\", 1, \"interaction\", \"fab-wine\"], [\"name\", \"eye\", 1, \"add-interaction\", 3, \"click\"], [\"offset\", \"3\", \"size\", \"9\", 1, \"message\", \"my-message\"], [\"vertical\", \"top\", \"horizontal\", \"end\", \"slot\", \"fixed\"], [\"name\", \"share\"], [\"side\", \"bottom\"], [3, \"click\"], [\"name\", \"heart\", 1, \"fab-heart\"], [\"name\", \"flame\", 1, \"fab-flame\"], [\"name\", \"checkmark-circle\", 1, \"fab-checkmark\"], [\"name\", \"leaf\", 1, \"fab-leaf\"], [\"name\", \"nutrition\", 1, \"fab-carrot\"], [\"name\", \"beer\", 1, \"fab-beer\"], [\"name\", \"wine\", 1, \"fab-wine\"]],\n      template: function ChatPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n          i0.ɵɵtemplate(3, ChatPage_ion_back_button_3_Template, 1, 0, \"ion-back-button\", 1)(4, ChatPage_ion_menu_button_4_Template, 1, 0, \"ion-menu-button\", 2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"ion-title\")(6, \"span\", 3);\n          i0.ɵɵtext(7, \"CHAT\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"ion-buttons\", 4)(9, \"ion-icon\", 5);\n          i0.ɵɵlistener(\"click\", function ChatPage_Template_ion_icon_click_9_listener() {\n            return ctx.refreshChat();\n          });\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(10, \"ion-content\", 6);\n          i0.ɵɵtemplate(11, ChatPage_ion_grid_11_Template, 5, 2, \"ion-grid\", 7)(12, ChatPage_ion_fab_12_Template, 18, 0, \"ion-fab\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"ion-footer\")(14, \"ion-toolbar\", 9)(15, \"ion-row\", 10)(16, \"ion-col\", 11)(17, \"ion-textarea\", 12);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ChatPage_Template_ion_textarea_ngModelChange_17_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.newMsg, $event) || (ctx.newMsg = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(18, \"ion-col\", 13)(19, \"ion-button\", 14);\n          i0.ɵɵlistener(\"click\", function ChatPage_Template_ion_button_click_19_listener() {\n            return ctx.sendMessage();\n          });\n          i0.ɵɵelement(20, \"ion-icon\", 15);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", !ctx.bfgUser.isStudent());\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.bfgUser.isStudent());\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"scrollEvents\", true);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loaded);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isAddingInteraction());\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.newMsg);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.newMsg === \"\");\n        }\n      },\n      dependencies: [i6.NgForOf, i6.NgIf, i7.NgControlStatus, i7.NgModel, i5.IonBadge, i5.IonButton, i5.IonButtons, i5.IonCol, i5.IonContent, i5.IonFab, i5.IonFabButton, i5.IonFabList, i5.IonFooter, i5.IonGrid, i5.IonHeader, i5.IonIcon, i5.IonInfiniteScroll, i5.IonInfiniteScrollContent, i5.IonMenuButton, i5.IonRow, i5.IonTextarea, i5.IonTitle, i5.IonToolbar, i5.TextValueAccessor, i5.IonBackButton, i6.AsyncPipe, i6.KeyValuePipe],\n      styles: [\".message[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;margin-bottom:4px;white-space:pre-wrap}.message[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:1.35rem;line-height:2.25rem;letter-spacing:2}.message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem}.message[_ngcontent-%COMP%]   .messager-name[_ngcontent-%COMP%]{font-size:.9rem}.message[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.8rem}.message[_ngcontent-%COMP%]   .add-interaction[_ngcontent-%COMP%]{font-size:2em}.message[_ngcontent-%COMP%]   .add-interaction-active[_ngcontent-%COMP%]{color:#f6be00}.message[_ngcontent-%COMP%]   span.interaction-divider[_ngcontent-%COMP%]{font-size:1.75em}.message[_ngcontent-%COMP%]   .interaction-col-divider[_ngcontent-%COMP%]{border-left:black solid 2px}.message[_ngcontent-%COMP%]   .light-badge[_ngcontent-%COMP%]{background-color:#fff}.message[_ngcontent-%COMP%]   .light-interaction-badge[_ngcontent-%COMP%]{background-color:#fff;margin-left:.5em;margin-bottom:.5em}.message[_ngcontent-%COMP%]   .interaction[_ngcontent-%COMP%]{font-size:1.75em}.my-message[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:#fff!important}.my-message[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#fff!important}.other-message[_ngcontent-%COMP%]{background:var(--ion-color-medium);color:#000!important}.other-message[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#000!important}.time[_ngcontent-%COMP%]{color:#dfdfdf;float:right;font-size:small}.message-input[_ngcontent-%COMP%]{width:100%;border:1px solid var(--ion-color-medium);border-radius:10px;background:#fff;resize:none;padding-left:10px;padding-right:10px}.msg-btn[_ngcontent-%COMP%]{--padding-start: .5em;--padding-end: .5em}.fab-heart[_ngcontent-%COMP%]{color:#d3312f;font-size:2em}.fab-flame[_ngcontent-%COMP%]{color:#ffc355;font-size:2em}.fab-leaf[_ngcontent-%COMP%]{color:#1cb31c;font-size:2em}.fab-carrot[_ngcontent-%COMP%]{color:#e59604;font-size:2em}.fab-beer[_ngcontent-%COMP%]{color:#c5c536;font-size:2em}.fab-wine[_ngcontent-%COMP%]{color:#d51bd5;font-size:2em}.fab-checkmark[_ngcontent-%COMP%]{color:green;font-size:2em}\"]\n    });\n  }\n  return ChatPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}