{"ast":null,"code":"import _asyncToGenerator from \"/Users/malaviyagautam/Code/JS/MEAN/Ionic/ionic-project-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { NavController } from '@ionic/angular';\nimport { HttpService } from '../../services/common/http.service';\nimport { MessageService } from '../../services/common/message.service';\nimport { BFGUserService } from '../../services/bfg-user.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/common/http.service\";\nimport * as i2 from \"../../services/common/message.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"../../services/bfg-user.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@angular/router\";\nfunction RequestsPage_ng_container_21_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"p\", 8);\n    i0.ɵɵtext(2, \"Need to message the house chef directly?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-button\", 9)(4, \"strong\");\n    i0.ɵɵtext(5, \"TO CHAT\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", \"/chat\");\n  }\n}\nfunction RequestsPage_ng_container_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-footer\");\n    i0.ɵɵtemplate(2, RequestsPage_ng_container_21_ng_container_2_Template, 6, 1, \"ng-container\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const loaded_r1 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.bfgUser.isStudent() && loaded_r1 && ctx_r1.bfgUser.appFunctionEnabled(\"chat\"));\n  }\n}\nexport let RequestsPage = /*#__PURE__*/(() => {\n  class RequestsPage {\n    http;\n    msg;\n    nav;\n    bfgUser;\n    data = {\n      comment: ''\n    };\n    constructor(http, msg, nav, bfgUser) {\n      this.http = http;\n      this.msg = msg;\n      this.nav = nav;\n      this.bfgUser = bfgUser;\n    }\n    save() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (!_this.data.comment) {\n          yield _this.msg.showToast('Error', 'Please fill out a comment');\n          return;\n        }\n        yield _this.msg.showLoader();\n        _this.http.post('bfg/ratings/save-comment', {\n          comment: _this.data.comment\n        }).subscribe(/*#__PURE__*/function () {\n          var _ref = _asyncToGenerator(function* (response) {\n            yield _this.msg.hideLoader();\n            if (response.error) {\n              yield _this.msg.showToast('Error', response.message ? response.message : 'There was an error saving your comment. Please contact technical support if this persists.');\n              return;\n            }\n            yield _this.msg.showToast('Success', 'Submitted comment successfully');\n            _this.data.comment = '';\n            _this.nav.pop();\n          });\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      })();\n    }\n    static ɵfac = function RequestsPage_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RequestsPage)(i0.ɵɵdirectiveInject(i1.HttpService), i0.ɵɵdirectiveInject(i2.MessageService), i0.ɵɵdirectiveInject(i3.NavController), i0.ɵɵdirectiveInject(i4.BFGUserService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RequestsPage,\n      selectors: [[\"app-requests\"]],\n      standalone: false,\n      decls: 23,\n      vars: 4,\n      consts: [[\"slot\", \"start\"], [1, \"wrap-text\"], [\"padding\", \"\"], [\"size\", \"12\", \"size-lg\", \"6\", \"offset-lg\", \"3\"], [\"position\", \"stacked\", \"color\", \"secondary\", 1, \"my-label\", \"ion-text-wrap\"], [\"name\", \"comment\", \"rows\", \"6\", \"cols\", \"20\", \"placeholder\", \"Let us know your request or leave us a comment.\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"bfg-btm-btn\", \"\", \"expand\", \"full\", \"type\", \"submit\", 1, \"blue-button\", 3, \"click\"], [4, \"ngIf\"], [\"text-center\", \"\"], [\"bfg-btm-btn\", \"\", \"expand\", \"full\", \"size\", \"large\", \"color\", \"primary\", \"expand\", \"block\", \"size\", \"large\", 3, \"routerLink\"]],\n      template: function RequestsPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n          i0.ɵɵelement(3, \"ion-menu-button\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"ion-title\")(5, \"span\", 1);\n          i0.ɵɵtext(6, \"REQUESTS & COMMENTS\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(7, \"ion-content\")(8, \"ion-grid\")(9, \"ion-row\", 2)(10, \"ion-col\", 3)(11, \"form\")(12, \"ion-item\")(13, \"ion-label\", 4);\n          i0.ɵɵtext(14, \"Requests & Comments\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"ion-textarea\", 5);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RequestsPage_Template_ion_textarea_ngModelChange_15_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.data.comment, $event) || (ctx.data.comment = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"p\")(17, \"small\");\n          i0.ɵɵtext(18, \"*All requests & comments are submitted to your house chef.\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"ion-button\", 6);\n          i0.ɵɵlistener(\"click\", function RequestsPage_Template_ion_button_click_19_listener() {\n            return ctx.save();\n          });\n          i0.ɵɵtext(20, \"SUBMIT\");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵtemplate(21, RequestsPage_ng_container_21_Template, 3, 1, \"ng-container\", 7);\n          i0.ɵɵpipe(22, \"async\");\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(15);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.data.comment);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(22, 2, ctx.bfgUser.userConfigLoaded));\n        }\n      },\n      dependencies: [i5.NgIf, i6.ɵNgNoValidate, i6.NgControlStatus, i6.NgControlStatusGroup, i6.RequiredValidator, i6.NgModel, i6.NgForm, i3.IonButton, i3.IonButtons, i3.IonCol, i3.IonContent, i3.IonFooter, i3.IonGrid, i3.IonHeader, i3.IonItem, i3.IonLabel, i3.IonMenuButton, i3.IonRow, i3.IonTextarea, i3.IonTitle, i3.IonToolbar, i3.TextValueAccessor, i3.RouterLinkDelegate, i7.RouterLink, i5.AsyncPipe],\n      encapsulation: 2\n    });\n  }\n  return RequestsPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}